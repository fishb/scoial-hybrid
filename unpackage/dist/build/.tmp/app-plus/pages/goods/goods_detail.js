(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods_detail"],{"04f2":function(t,e,n){"use strict";var o=n("64fc"),i=n.n(o);i.a},3887:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.token?t.togglePopup("cart"):t.$navTo("/page",!0)})},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"64fc":function(t,e,n){},"7ef2":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("a34a")),i=n("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,o,i,r,s){try{var c=t[r](s),u=c.value}catch(a){return void n(a)}c.done?e(u):Promise.resolve(u).then(o,i)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var r=t.apply(e,n);function c(t){s(r,o,i,c,u,"next",t)}function u(t){s(r,o,i,c,u,"throw",t)}c(void 0)})}}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){return n.e("components/uni-badge/uni-badge").then(n.bind(null,"98ae"))},f=function(){return n.e("components/GeneralList").then(n.bind(null,"225c"))},d=function(){return n.e("components/HybridSpec").then(n.bind(null,"9b0a"))},p={components:{uniBadge:l,GeneralList:f,HybridSpec:d},data:function(){return{goods_id:"",collect:!1,type:"",tabIndex:0,hasStatus:!0,opcity:0,current:0,result:{goodsInfo:{images:[]},shopInfo:{shop_name:"官方自营"}},title:["商品","评价","详情","推荐"],titleScroll:[],initlist:[{name:"计价单位",item:"促销组合包装"},{name:"毛重",item:"6KG"},{name:"是否含磷",item:"不含磷"},{name:"是否伤手",item:"不伤手"}],initStatus:!1,list:[{id:"1",title:"【下单后7-15天发货】贵州飞天茅台53度 酱",image:"/static/timg.jpg",oldprice:"1980",newprice:"1600",label:["爆品秒杀"]},{id:"2",title:"测试产品",image:"/static/timg2.png",oldprice:"199",newprice:"180"}],spec:[],skuList:[]}},computed:u({},(0,i.mapState)(["token","systemInfo"]),{colorOpacity:function(){return"rgba(1,1,1,".concat(this.opcity,")")},titleHeight:function(){return t.upx2px(96)+"px"},swiperMarin:function(){return this.hasStatus?t.upx2px(96)+this.systemInfo.statusBarHeight+"px":this.titleHeight}}),onReady:function(){this.Scrollinit()},onLoad:function(t){this.goods_id=t.id,this._GoodsInfo(this.goods_id)},methods:{_GoodsInfo:function(){var t=c(o.default.mark(function t(e){var n;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.GoodsInfo({id:e});case 2:return n=t.sent,this.result=n.result,this.skuList=this.result.goodsInfo.skuList,t.next=7,this.result.goodsInfo.spec;case 7:this.spec=t.sent;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),Scrollinit:function(){var e=c(o.default.mark(function e(){var n,i,r,s=this;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=null,i=["entry","init","general"],this.titleScroll=[0],e.next=5,t.createSelectorQuery().selectViewport("#media").scrollOffset(function(t){n=t.scrollTop}).exec();case 5:r=0;case 6:if(!(r<i.length)){e.next=12;break}return e.next=9,t.createSelectorQuery().select("#".concat(i[r])).boundingClientRect(function(e){s.titleScroll.push(e.top+n-t.upx2px(96)-s.systemInfo.statusBarHeight)}).exec();case 9:r++,e.next=6;break;case 12:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),mediaChange:function(t){this.current=t.detail.current},storeUp:function(){var t=c(o.default.mark(function t(){var e;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis[this.collect?"GoodsCollectDel":"GoodsCollectAdd"]({goods_id:this.goods_id});case 2:if(e=t.sent,0!=e.code){t.next=7;break}return this.$toast({title:this.collect?"取消收藏成功":"收藏成功",icon:"success"}),this.collect=!this.collect,t.abrupt("return");case 7:this.$toast({title:e.msg,icon:"none"});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),shareTo:function(){console.log("分享出去"," at pages\\goods\\goods_detail.vue:348")},initControl:function(){this.initStatus=!this.initStatus},anchor:function(e){this.tabIndex=e,t.pageScrollTo({scrollTop:this.titleScroll[e],duration:0})},togglePopup:function(t){this.type=t},_CartAdd:function(){var t=c(o.default.mark(function t(e){var n;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.CartAdd(e);case 2:if(n=t.sent,0!=n.code){t.next=7;break}return this.togglePopup(""),this.$toast({title:"加入购物车成功",icon:"success"}),t.abrupt("return");case 7:this.togglePopup(""),this.$toast({title:n.msg,icon:"none"});case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),_Gobuy:function(t){console.log(t," at pages\\goods\\goods_detail.vue:382")}},onPageScroll:function(t){t.scrollTop>150?this.opcity=1:this.opcity=t.scrollTop/150},onShareAppMessage:function(t){"button"===t.from&&console.log(t.target," at pages\\goods\\goods_detail.vue:394"),this.$Tyshare.share(this.shareInfo)}};e.default=p}).call(this,n("6e42")["default"])},9096:function(t,e,n){"use strict";n.r(e);var o=n("7ef2"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},b575:function(t,e,n){"use strict";n.r(e);var o=n("3887"),i=n("9096");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("04f2");var s=n("2877"),c=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,"3ff092ad",null);e["default"]=c.exports}},[["3b7a","common/runtime","common/vendor"]]]);