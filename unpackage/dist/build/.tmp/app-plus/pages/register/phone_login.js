(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/phone_login"],{"0629":function(t,e,n){"use strict";var i=n("20b1"),r=n.n(i);r.a},"1f32":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"20b1":function(t,e,n){},beb2:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("a34a")),r=n("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,r,o,s){try{var u=t[o](s),a=u.value}catch(c){return void n(c)}u.done?e(a):Promise.resolve(a).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function u(t){s(o,i,r,u,a,"next",t)}function a(t){s(o,i,r,u,a,"throw",t)}u(void 0)})}}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=null,f=null,p={name:"Register",computed:a({},(0,r.mapState)(["wxapp","appLogin"]),{Wheight:function(){return t.getSystemInfoSync().windowHeight+"px"}}),data:function(){return{disabled:!1,mobile:"",smscode:"",password:"",count:120}},onLoad:function(){},methods:{MpWexinBtn:function(){var e=this;this.wxapp&&t.getUserInfo({provider:"weixin",success:function(n){l=n,t.login({provider:"weixin",success:function(t){f=t.code,e._Register("wechat_miniapp",f,l)}})}}),this.wxapp||t.login({provider:"weixin",success:function(t){f=t.code,e._Register("wechat_miniapp",f)}})},_timer:function(){var t=this,e=setInterval(function(){t.disabled=!0,t.count--,0==t.count&&(clearInterval(e),t.count=120,t.disabled=!1)},1e3)},_SmsSend:function(){var t=u(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.Regular.phone_regular.test(this.mobile)){t.next=3;break}return this.$toast({title:"手机号格式错误",icon:"none"}),t.abrupt("return");case 3:return t.next=5,this.$apis.SmsSend({tel:this.mobile,event:"register"});case 5:if(e=t.sent,0!=e.code){t.next=10;break}return this._timer(),this.$toast({title:e.msg,icon:"success"}),t.abrupt("return");case 10:this.$toast({title:e.msg,icon:"none"});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),_Register:function(){var t=u(i.default.mark(function t(e,n,r){var o,s,u;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.Regular.phone_regular.test(this.mobile)){t.next=3;break}return this.$toast({title:"手机号格式错误",icon:"none"}),t.abrupt("return");case 3:if(this.smscode){t.next=6;break}return this.$toast({title:"请输入验证码",icon:"none"}),t.abrupt("return");case 6:return o={mobile:this.mobile,smscode:this.smscode,register_type:e,client_id:plus.push.getClientInfo().clientid},s={},s=this.appLogin?a({wechat_openid:this.appLogin.openid,wechat_unionid:this.appLogin.unionid,wechat_userinfo:JSON.stringify(this.appLogin.userinfo)},o):a({wechat_openid:this.$store.state.openid},o),t.next=11,this.$apis.Register(s);case 11:if(u=t.sent,0!=u.code){t.next=15;break}return this.LoginUserShareBind({token:u.result.fans.token,userinfo:u.result.fans,num:2}),t.abrupt("return");case 15:this.$toast({title:u.msg,icon:"none"});case 16:case"end":return t.stop()}},t,this)}));function e(e,n,i){return t.apply(this,arguments)}return e}()}};e.default=p}).call(this,n("6e42")["default"])},c9a3:function(t,e,n){"use strict";n.r(e);var i=n("1f32"),r=n("d0ca");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n("0629");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},d0ca:function(t,e,n){"use strict";n.r(e);var i=n("beb2"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=r.a}},[["2430","common/runtime","common/vendor"]]]);